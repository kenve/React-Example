<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <script src="../build/react.js"></script>
    <script src="../build/react-dom.js"></script>
    <script src="../build/browser.min.js"></script>
</head>

<body>
    <div id="example"></div>
    <script type="text/babel">
      var Content=React.createClass({
        getInitialState:function () {
            return {
                inputText:''
            };
        },
        handleChange:function (event) {
            this.setState({
                    inputText:event.target.value
            });
        },
        handleSubmit:function () {
             console.log("reply To: " + this.props.selectName + "\n" + this.state.inputText);
        },
        render:function () {
            return (
                <div>
                <textarea onChange={this.handleChange} placeholder="please enter something..."></textarea>
                <button onClick={this.handleSubmit}>submit</button>
                </div>
            )
        }
      });
       var Comment = React.createClass({
            getInitialState: function () {
                return {
                    names: ["Tim", "John", "Hank"],
                    selectName: '',
                };
            },
            handleSelect: function (event) {
                this.setState({selectName: event.target.value});
            },
            render: function () {
                var options = [];
                for (var option in this.state.names) {
                    options.push(<option value={this.state.names[option]} key={option}>{this.state.names[option]}</option>)
                };
                return <div>
                <select onChange={this.handleSelect}>
                    {options}
                </select>
                <Content selectName={this.state.selectName}></Content>
                </div>;
            },
        });
    ReactDOM.render(<Comment/>, document.getElementById('example')); 
    </script>
</body>

</html>
